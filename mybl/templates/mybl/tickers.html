{% extends "mybl/base.html" %}
{% block content %}
{% load static %}
<div class='d-flex justify-content-around flex-wrap align-items-center'>
  <div class='d-flex justify-center mt-2 flex-wrap align-items-end' style='flex-basis: 30%;'>
    <table class='table-sm table-dark table-striped table-bordered'>
      <form>
      <caption style='caption-side: top'><small></small></caption>
        <tr>
        <th class='text-center'>1</th>
        </tr>
        <tr>
          <td><input type='radio' id='r20' name='period' value="20" checked="checked">20</td>
        </tr>
        <tr>
          <td><input type='radio' id='r50' name='period' value="50">50</td>
        </tr>
        <tr>
          <td><input type='radio' id='r100' name='period' value="100">100</td>
        </tr>
        <tr>
          <td><input type='radio' id='r250' name='period' value="250">250</td>
        </tr>
      </form>
    </table>
    <table class='table-sm table-dark table-striped table-bordered'>
      <caption style='caption-side: top'><small></small></caption>
      <tr>
        <th class='px-2 text-center'>S&P500</th>
        <th class='px-2 text-center'>VIX</th>
        <th class='px-2 text-center'>TR10</th>
      </tr>
      {% for ticker in chart_tickers %}
        <tr>
          <td class='change text-right'>
            {{ ticker.dif_gspc }}
          </td>
          <td class='change-invert text-right'>
            {{ ticker.dif_vix }}
          </td>
          <td class='change text-right'>
            {{ ticker.dif_tnx }}
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>

  <div class='d-flex'>
    <canvas id="line-chart" width="800" height="450"></canvas>
  </div>
  <div class='d-flex'>
    <canvas id="line-chart2" width="800" height="450"></canvas>
  </div>
    <div class='d-flex'>
    <canvas id="line-chart3" width="800" height="450"></canvas>
  </div>
  <script type="text/javascript">
    var received_data  = {{ tickers50|safe }};
  </script>
  <script src="{% static 'mybl/graph.js' %}"></script>
  {% endblock content %}
</div>
</div>
